<html>
<head>
<title>Macchine</title>
<meta charset="utf-8">
<meta name="description" content="Gestione Avanzamento Produzione"> <!--descrizione sintetica viualizzata nei motori di ricerca-->
<meta name="keywords" content="">
<meta name="robots" content="all"> <!--indica allo spider quali pagine indicizzare -->
<meta name="rating" content="general"> <!--decrive il tipo di pubblico (general, mature, restricted, 14years, safe for kids) -->
<meta http-equiv="expires" content="0"> <!--fa scaricare al browser sempre la copia aggiornata-->
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<link rel="stylesheet" href="css/style-3.css" type="text/css">
<link rel="stylesheet" href="css/style-container-3.css" type="text/css">
<!--
<link href="http://fonts.googleapis.com/css?family=Bitter&subset=latin" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/nestedsidemenu.css" />
-->
</head>
<body>
	<div class="grid-container">
			<div class="colonna0" >
				<img class="menu-icon" src="img/back_01.png" onclick="var x = document.getElementById('colonna1');if (x.style.display === 'none') {   x.style.display = 'block'; $('.menu-icon').attr('src','img/back_01.png');} else {x.style.display = 'none'; $('.menu-icon').attr('src','img/forward_01.png');}"/>
			<!--</div>-->
			<div class="colonna1" id="colonna1">
<div class="header">
	<div class="logo">
	<img src="img/exacta-logo.png" />
	</div>
	<div class="title">
	Gestione Avanzamento Produzione
	</div>
</div>
<div style="clear:both;"></div>
<!--<div class="funzioni">-->
	<div id="sidebar">
			<div class="menu nestedsidemenu">
				<!--<div class="closeButton"></div>				
				<div class="nestedsidemenu">
					<br style="clear: left" />
				</div>-->
			</div>
	</div>
				<!--<div class="menuButton"></div>	-->
	</div>
	</div>
			<div class="colonna2" id="main">
        <div id="content">
	<div class="corpoLista" id="corpoLista" style="display:block">
		<div class="corpoListaHeader">
			Elenco Macchine
		</div>	
	<form id="myForm" action="macchine.php" method="POST"> 
			<div class="nav">
					<input onclick="pagination('first')" id="exit" type="button" value="<<" />
					<input onclick="pagination('prev')" id="exit" type="button" value="<" />
					<span id="pagsup" type="text" name="pagsup" readonly="readonly" ></span>
					<input onclick="pagination('next')" id="exit" type="button" value=">" />
					<input onclick="pagination('last')" id="exit" type="button" value=">>" />
				</div>
				<div class="comandi">
						<!--<button onclick="window.location.href='commessa.html'">Nuovo</button>-->
							<div class=allinea>
							<!--<button onclick="invocaNuovo()">Nuovo</button>-->
							</div>
							<div class=allinea>
							<button onclick="aggiornaLista()">Aggiorna</button>
							</div>
							<div class=allinea>
							<a id="cmdReport" href="macchine.php?op=report&pag=1&npag=1&nrighe=1000&filtro=&ordinamento="><img src="img/excel.jpg" width="32px" height="32px" alt="Scarica Report Excel"/></a>
							</div>
				</div>
				<div style="clear:both"></div>
				<div class="lista">
				<table  id='my_table' class='tabella' cellspacing='0' cellpadding='0'>
					<thead>
						<tr>
						<th class="sorting" id="th_unique_id" onclick="setOrdinamento('unique_id')">ID macchina</th>
						<th class="sorting"  id="th_descrizione" onclick="setOrdinamento('descrizione')">Descrizione</th>
						<th class="sorting"  id="th_posizione"  onclick="setOrdinamento('posizione')">Posizione</th>
						</tr>
					</thead>
					<tbody>
					<!-- IL BODY E' INIZIALMENTE VUOTO -->
					</tbody>
				</table>
			</div>
			<br/>
			<div class="nav">
				<input onclick="pagination('first')" id="exit" type="button" value="<<" />
				<input onclick="pagination('prev')" id="exit" type="button" value="<" />
				<span id="paginf" type="text" name="paginf" readonly="readonly" ></span>
				<input id="pag" type="hidden" name="pag" readonly="readonly" value="1" />
				<input onclick="pagination('next')" id="exit" type="button" value=">" />
				<input onclick="pagination('last')" id="exit" type="button" value=">>" />
				<input id="op" type="hidden" name="op" value="list" />
				<input id="nrighe" type="hidden" name="nrighe" value="10" />
				<input id="npag" type="hidden" name="npag" value="0" />
				<input id="ordinamento" type="hidden" name="ordinamento" value="" />
			</div>
			<div class="comandi">
			<!--<button onclick="window.location.href='commessa.html'">Nuovo</button>-->
				<div class=allinea>
				<!--<button onclick="invocaNuovo()">Nuovo</button>-->
				</div>
				<div class=allinea>
				<button onclick="aggiornaLista()">Aggiorna</button>
				</div>
				<div class=allinea>
				<a id="cmdReport" href="macchine.php?op=report&pag=1&npag=1&nrighe=1000&filtro=&ordinamento="><img src="img/excel.jpg" width="32px" height="32px" alt="Scarica Report Excel"/></a>
				</div>
			</div>
			<div class="filtro">
				<label id="opFiltroLabel">Filtro:</label>
				<input id="valFiltro" type="text" name="filtro" readonly="readonly" value="" />
            </div>
		</form>  
		<div class="esito">
			<span id="resultmyForm"></span>
		</div>
	</div> 

	<div class="corpoEdit" id="corpoEdit" style="display:none">
		<div class="corpoEditHeader">
		Macchina  
		</div>	
		<form id="myFormEdit" action="macchine.php" method="POST"> 
			<div class="record">
				<table>
					<tr>
					<td>Codice Macchina</td><td><input type="text" name="unique_id" /></td>
					</tr>
					<tr>
					<td>Descrizione</td><td><input type="text" name="descrizione" /></td>
					</tr>
					<tr>
					<td>Posizione</td><td><input type="text" name="posizione" /></td>
					</tr>
				</table>
			</div>
			<div class="comandi">
				<input id="submyFormEdit" type="submit" value="Invia" />
				<button onclick="deleteRecord()">Elimina</button>
				<button onclick="cambiaForm()">Esci</button>
			</div>
			<div class="modo">
				<label id="opEditLabel">Modo:</label>
				<input id="opEdit"  type="text" name="op" readonly="readonly" value="insert" />
			</div>		
		</form>  
		<div class="esito" >
			<span id="resultmyFormEdit"></span>
		</div>
		<div class="corpoNascosto"style="display:none">
			<form id="myFormHiddenMacchine" action="macchine.php" method="POST">
				<input id="unique_id" type="text" name="unique_id" value="" />
				<input id="op" type="hidden" name="op" value="get" />
			</form>  
		</div>
	</div> 
	</div> 
	</div> 
</div> 
<style>
	</style>
	
<!--<script src="script/jquery-1.12.4.min.js" type="text/javascript"></script>-->
<script type="text/javascript" src="script/jquery-1.9.1.js"></script>
<script src="script/myScript.js" type="text/javascript"></script>

<script type="text/javascript">

	$(document).ready(function() {
		$('.menuButton').click(function()
		{
			$('#sidebar').animate({"left":"0px"}, 10);
		});
	
		$('.closeButton').click(function()
		{
			$('#sidebar').animate({"left":"-236px"}, 10);
		});
			
	costruisciMenu();


	});
	

	elencoCampiLista= {
		 "unique_id" : {"caption":"ID Macchina","tipo":"T","sort":""}, 
		 "descrizione" : {"caption":"Descrizione","tipo":"T","sort":""}, 
		 "posizione":{"caption":"Posizione","tipo":"T","sort":""}
				};


	function caricamento(){
			//------chiudimenu();
		};
	
	</script>
		
<script type='text/javascript'>

function deleteRecord(){
$("#opEdit").val("delete");
	richiestaDati("myFormEdit");

}




$("#sub").click( function() {
	richiestaDati("myFormEdit");
});
 
$("#myForm").submit( function() {
  return false;
});


$("#submyFormEdit").click( function() {
	richiestaDati("myFormEdit");
});
 
$("#myFormEdit").submit( function() {
  return false;
});

function aggiornaLista(){
$("#my_table tbody tr:nth-child(n+1)").remove();
$("#npag").val(0);
richiestaDati("myForm",elencoCampiLista ,impostaNpag);
};

function invocaEdit(id){
	return;
	$("#unique_id").val(id);
	$("#opEdit").val("edit");
	$()
	cambiaForm();
	richiestaDati("myFormHiddenMacchine");
	
};

function invocaNuovo(){
	return;
	$("#unique_id").val("");
	$("#opEdit").val("insert");
	$("#myFormInsert").trigger("reset");

	cambiaForm();
	richiestaDati("myFormHiddenMacchine");
	
};

function cambiaForm(){
            $("#corpoEdit").toggle();
            $("#corpoLista").toggle();

};

$(document).ready(function(){
	aggiornaLista();
});


</script>
</body>
</html>